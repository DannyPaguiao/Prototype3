<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Bejewler</title>
		<script src="js/jquery.js"></script>
		<script src="js/underscore.js"></script>
		<script src="js/three.js"></script>
        <script src="js/EffectComposer.js"></script>
        <script src="js/RenderPass.js"></script>
        <script src="js/ShaderPass.js"></script>
        <script src="js/MaskPass.js"></script>
        <script src="js/CopyShader.js"></script>
        <script src="js/Gems.js"></script>
        <script src="js/Robot.js"></script>
        <script src="js/Game.js"></script>
        <script src="js/Panes.js"></script>
        <script src="js/Board.js"></script>
        <script src="js/TitlePane.js"></script>
        <script src="js/GamePane.js"></script>
       
       
        <!-- load fonts -->
        <script src="fonts/gentilis_bold.typeface.js"></script>
        <script src="fonts/gentilis_regular.typeface.js"></script>
        <script src="fonts/optimer_bold.typeface.js"></script>
        <script src="fonts/optimer_regular.typeface.js"></script>
        <script src="fonts/helvetiker_bold.typeface.js"></script>
        <script src="fonts/helvetiker_regular.typeface.js"></script>
        <script src="fonts/droid_sans_regular.typeface.js"></script>
        <script src="fonts/droid_sans_bold.typeface.js"></script>
        <script src="fonts/droid_serif_regular.typeface.js"></script>
        <script src="fonts/droid_serif_bold.typeface.js"></script>
        <!-- load glsl files -->
        <script src="shaders/perlin.glsl"></script>
        
	</head>
	<body>
		<p>
        Bejewler
		</p>
        <p> W - Move up a Space
        	A - Move Left a Space
        	S - Move Down a Space
        	D - Move Right a Space</p>
        	<p>
        	L Arrow Key - face left
        	U Arrow Key - face Up
        	R Arrow Key - face right
        	D Arrow Key - face down
        	Spacebar - Shoot gem
        	</p>
        	<p>
        	Get to the GOAL GEM! Before time expires 
        	Match Gems to clear paths
        	</p>
        <audio id='song' src="when-the-fire-starts-to-burn.mp3"></audio>
        <center>
        <div id='gameArea' />
        
        
        <p id="timer"></p>
        
        <!--Set the timer to count down every second,
         then pass that variable to Game.render()----->
        
        <script>
        // Declare variables needed to caculate time
        var Ticker;
        var timeLeft;
        var totalTime;
        var time;
        var prevTime;
        var timeFinish = false;
        var levelNum = 1;
        var restartGame;
            
        /* Function checks to see if the next second 
         * passed has yet to be rendered on the screen.
         * If it hasn't, update it or break out. 
         */
		function checkTime() {
			if (time != prevTime) {
				prevTime = time;
				return true;
			}
			else {
				return false;
			}
		}
            
        /* Function takes in the amount of time before 
         * a level is initialized, and then sets that time 
         * to be the total time. Calls the tick() function at
         * 1 second intervals. 
         */
        function setTime(amountOfTime){
        	if(levelNum == 1){
        		timeLeft = amountOfTime;
            	totalTime = timeLeft;
          	    prevTime = time;
          		Ticker = setInterval(function() {tick()}, 1000);
        	}
        }
        
        /* Decrement the time left at 1 second intervals, then 
         * set that to be the time displayed on screen.
         */ 
        function tick(){
       		  id = document.getElementById("timer");
         	  timeLeft--;
         	  time = timeLeft;
        }
            </script>
     
       
        
		<script>

			$(function() {
              
              var game = new Game();
              game.pushPane(new TitlePane());
             // game.init();
              //game.pushPane(new TitlePane());
              
              game.start();
              
              });
            
        </script>
        </center>
        
	</body>
</html>